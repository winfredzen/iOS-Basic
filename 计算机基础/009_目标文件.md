# 目标文件

内容来自：《程序员的自我修养》

可参考：

+ [《程序员的自我修养》读书笔记——目标文件](https://www.jianshu.com/p/dd9b6b66ef25)



编译器编译源代码后生成的文件叫做**目标文件**

目标文件从结构上讲，它是已经编译后的可执行性文件格式，只是还没有经过链接的过程，其中可能有些符号或有些地址还没有被调整



目标文件中的内容至少有编译后的机器指令代码、数据。还包括了链接时所需要的一些信息，比如符号表、调试信息、字符串等

一般目标文件将这些信息按不同的属性，以**节**（section）的形式存储，有时候也叫做**段**（Segment），在一般轻情况下，都便是一个一定长度的区域



程序源代码编译后的机器指令经常被放在**代码段**（Code Section），代码段常见的名字有`.code` 或 `.text`

全局变量和局部静态变量数据经常放在**数据段**（Data Secton）,一般名字叫`.data`

未初始化的全局变量和局部静态变量一般放在一个叫`.bss`的段里

![018](https://github.com/winfredzen/iOS-Basic/blob/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/images/018.png)

+ 文件头 - 描述整个文件的文件属性，如是否可执行、静态库还是动态库、及入口地址（可执行文件）、目标硬件、操作系统等。**其中还包含一个段表（Section Table），段表示描述各个段的一个数组，包含各个段在文件的偏移位置、段的属性。**文件头后面就是各个段的内容，比如代码段保存指令，数据段保存数据。

  

总体来说，程序源代码被编译后主要分成两种段：

+ 程序指令 - 代码段属于程序指令
+ 程序数据 - 数据段和.bss段属于程序数据



















