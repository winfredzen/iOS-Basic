# extern的用法

参考：

+ [《C语言-C++学习指南》18.1-多文件项目,extern的用法](https://www.bilibili.com/video/BV1Fs411k7v7?from=search&seid=13205554016949889533)



为了允许把程序拆分成多个逻辑部分来编写，C++语言支持分离式编译（separate compilation）机制，该机制允许将程序分隔为若干个文件，每个文件可被独立编译

为支持分离式编译，C++语言将声明与定义区分开来

+ 声明（declaration）- 使名字为程序所知，一个文件如果想使用别处定义的名字则必须包含对那个名字的声明
  + 变量声明规定了变量的类型和名字
+ 定义（definition）- 负责创建与名字关联的实体
  + 定义还申请存储空间，也可能会为变量赋值一个初始值

如果想要声明一个变量而非定义它，就在变量名前添加关键字`extern`，而不是显式地初始化变量

```c++
extern int i;//声明i而非定义i
int j;//声明并定义i
```

`extern`语句如果包含初始值就不再是声明，而变成定义了：

```c++
extern double pi = 3.14; //定义
```



在函数体内部，如果试图初始化一个有`extern`关键字标记的变量，将引发错误























