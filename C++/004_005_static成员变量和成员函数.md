# static成员变量和成员函数



## 静态成员变量

如果要在多个对象间共享数据（如对象计数），可考虑使用静态成员变量

```c++
class Student{
public:
    Student(char *name, int age, float score);
    void show();
public:
    static int m_total;  //静态成员变量
private:
    char *m_name;
    int m_age;
    float m_score;
};
```

注意：**static 成员变量必须在类声明的外部初始化**

如果尝试在类内部初始化，会提示`Non-const static data member must be initialized out of line`

![015](https://github.com/winfredzen/iOS-Basic/blob/master/C%2B%2B/images/015.png)



`static` 成员变量初始化方式为：

```c++
type class::name = value;
```

`static` 成员变量的访问：

```c++
using namespace std;

class Student{
public:
    Student(char *name, int age, float score);
    void show();
public:
    static int m_total;  //静态成员变量
private:
    char *m_name;
    int m_age;
    float m_score;
};

//初始化静态成员变量
int Student::m_total = 0;

int main(){
    
    //通过类类访问 static 成员变量
    Student::m_total = 10;
    //通过对象来访问 static 成员变量
    Student stu("小明", 15, 92.5f);
    stu.m_total = 20;
    //通过对象指针来访问 static 成员变量
    Student *pstu = new Student("李华", 16, 96);
    pstu -> m_total = 20;
    
    return 0;
}
```



## 静态成员函数

**静态成员函数 vs 普通成员函数**

+ 普通成员函数有 `this` 指针，可以访问类中的任意成员
+ 静态成员函数没有 `this` 指针，只能访问静态成员



















