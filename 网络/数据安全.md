# 数据安全

GET请求的所有参数都直接暴露在URL中，所以如果是提交用户隐私的数据，一般是使用POST请求提交用户的隐私数据

但使用POST提交的数据，并不能完全解决安全的问题，使用一些软件（比如Charles）设置代理服务器，是可以查看请求体数据的

因此，提交用户的隐私数据时，不要明文提交，要加密处理

常见的加密算法：MD5 \ SHA \ DES \ 3DES \ RC2和RC4 \ RSA \ IDEA \ DSA \ AES



## Base64

Base64简介参考[Base64][1]，也可参阅[Base64 编码介绍、Base64编码转换原理、算法](http://blog.chacuo.net/719.html)

从iOS7.0 开始，苹果就提供了base64的编码和解码支持

```
//对一个字符串进行base64编码
-(NSString *)base64EncodeString:(NSString *)string
{
    //先转换为二进制数据
    NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding];
    
    //对二进制数据进行base64编码,完成之后返回字符串
    return [data base64EncodedStringWithOptions:0];
}

//对base64编码之后的字符串解码
-(NSString *)base64DecodeString:(NSString *)string
{
    //转换为二进制数据
    NSData *data = [[NSData alloc]initWithBase64EncodedString:string options:0];
    
    //把二进制数据在转换为字符串
    return [[NSString alloc]initWithData:data encoding:NSUTF8StringEncoding];
}
```

Base64终端命令：参考[我使用过的Linux命令之base64 - 用base64编解码](http://codingstandards.iteye.com/blog/934928)

>格式：echo "str" | base64
>
>将字符串str+换行 编码为base64字符串输出。
>
>格式：echo -n "str" | base64
>
>将字符串str编码为base64字符串输出。注意与上面的差别。
>
>格式：echo "str" | base64 -d
>
>将base64编码的字符串str+换行 解码输出。
>
>格式：echo -n "str" | base64 -d
>
>将base64编码的字符串str解码输出。 注意与上面的差别。



对文件进行base64编码后,文件编码后的数据大约为编码前数据的4/3


## 加密

目前流行的加密方式：

1.哈希(散列)函数

- MD5
- SHA1
- SHA25


2.对称加密算法

+ DES
+ 3DES
+ AES

3.非对称加密算法

+ RSA

### 散列函数

参考如下的介绍：

+ [散列函数](https://zh.wikipedia.org/wiki/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B8)
+ [到底什么是hash?](https://www.zhihu.com/question/26762707)

>哈希函数就是能将任意长度的数据映射为固定长度的数据的函数。 哈希函数返回的值被叫做哈希值、哈希码、散列，或者直接叫做哈希。 一个使用场景就是哈希表，哈希表被广泛用于快速搜索数据。

#### MD5

>MD5消息摘要算法（英语：MD5 Message-Digest Algorithm），一种被广泛使用的密码散列函数，可以产生出一个128位（16字节）的散列值（hash value），用于确保信息传输完整一致。
>
>参考[MD5](https://zh.wikipedia.org/wiki/MD5)


MD5已不再是绝对的安全，可以对MD5做改进，以增加解密的难度：

+ 加盐
+ 先加密，后乱序
+ HMAC：给定一个"秘钥"，对明文进行加密，并且做"两次散列"，得到的结果，还是 32 个字符


### 非对称加密

参考：

+ [RSA算法原理（一）](http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html)
+ [RSA算法原理（二）](http://www.ruanyifeng.com/blog/2013/07/rsa_algorithm_part_two.html)
















[1]: https://zh.wikipedia.org/wiki/Base64 "Base64" 

